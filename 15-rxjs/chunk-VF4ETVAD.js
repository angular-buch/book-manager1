import{a as P,e as _}from"./chunk-WNEPPICT.js";import{a as $}from"./chunk-SPGLZGH7.js";import{A as v,D as a,F as j,J as C,K as I,L as O,Q as T,R as N,S as R,T as d,U as l,V as q,Z as b,aa as E,e as y,fa as F,i as D,j as k,ja as L,k as x,l as w,m as f,n as g,q as u,ta as U,u as M,v as p,y as s,z as S}from"./chunk-NIHPDEBP.js";function H(n,e){let t=e?.injector??u(M),r=new y(1),m=S(()=>{let o;try{o=n()}catch(c){v(()=>r.error(c));return}v(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(p).onDestroy(()=>{m.destroy(),r.complete()}),r.asObservable()}function B(n,e){let r=!e?.manualCleanup?e?.injector?.get(p)??u(p):null,m=A(e?.equal),o;e?.requireSync?o=s({kind:0},{equal:m}):o=s({kind:1,value:e?.initialValue},{equal:m});let c,h=n.subscribe({next:i=>o.set({kind:1,value:i}),error:i=>{o.set({kind:2,error:i}),c?.()},complete:()=>{c?.()}});if(e?.requireSync&&o().kind===0)throw new g(601,!1);return c=r?.onDestroy(h.unsubscribe.bind(h)),L(()=>{let i=o();switch(i.kind){case 1:return i.value;case 2:throw i.error;case 0:throw new g(601,!1)}},{equal:e?.equal})}function A(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var W=n=>["/books","details",n],z=(n,e)=>e.isbn;function G(n,e){if(n&1&&(d(0,"li")(1,"a",3),b(2),l()()),n&2){let t=e.$implicit;a(),R("routerLink",F(3,W,t.isbn)),a(),E(" ",t.title," / ",t.isbn," ")}}var V=class n{#e=u($);searchTerm=s("");searchField=P(this.searchTerm);isLoading=s(!1);results=B(H(this.searchTerm).pipe(D(e=>e.length>=3),k(500),x(),f(()=>this.isLoading.set(!0)),w(e=>this.#e.search(e)),f(()=>this.isLoading.set(!1))),{initialValue:[]});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["app-home-page"]],decls:9,vars:3,consts:[[3,"aria-busy"],["for","search"],["type","search","id","search",3,"field"],[3,"routerLink"]],template:function(t,r){t&1&&(d(0,"h1"),b(1,"Welcome to the BookManager!"),l(),d(2,"section",0)(3,"label",1),b(4,"Search for Books"),l(),q(5,"input",2),I(),d(6,"ul"),T(7,G,3,5,"li",null,z),l()()),t&2&&(a(2),C("aria-busy",r.isLoading()),a(3),O(r.searchField),a(2),N(r.results()))},dependencies:[_,U],encapsulation:2})};export{V as HomePage};
