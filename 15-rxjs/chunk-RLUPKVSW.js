import{a as q}from"./chunk-LFOJGHRR.js";import{E as c,G as w,K as S,R as M,S as j,T as C,U as i,V as s,Y as I,_ as l,ba as O,d as h,ga as T,i as y,j as D,k as x,ka as E,l as k,m as b,n as g,q as d,ua as R,v as f,y as u}from"./chunk-T4R7BEIA.js";function N(t,e){let a=!e?.manualCleanup?e?.injector?.get(f)??d(f):null,p=_(e?.equal),r;e?.requireSync?r=u({kind:0},{equal:p}):r=u({kind:1,value:e?.initialValue},{equal:p});let m,v=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{r.set({kind:2,error:o}),m?.()},complete:()=>{m?.()}});if(e?.requireSync&&r().kind===0)throw new g(601,!1);return m=a?.onDestroy(v.unsubscribe.bind(v)),E(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new g(601,!1)}},{equal:e?.equal})}function _(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var P=t=>["/books","details",t],U=(t,e)=>e.isbn;function F(t,e){if(t&1&&(i(0,"li")(1,"a",3),l(2),s()()),t&2){let n=e.$implicit;c(),C("routerLink",T(3,P,n.isbn)),c(),O(" ",n.title," / ",n.isbn," ")}}var L=class t{#e=d(q);searchTerm$=new h;isLoading=u(!1);results=N(this.searchTerm$.pipe(y(e=>e.length>=3),D(500),x(),b(()=>this.isLoading.set(!0)),k(e=>this.#e.search(e)),b(()=>this.isLoading.set(!1))),{initialValue:[]});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=w({type:t,selectors:[["app-home-page"]],decls:9,vars:1,consts:[[3,"aria-busy"],["for","search"],["type","search","id","search",3,"input"],[3,"routerLink"]],template:function(n,a){n&1&&(i(0,"h1"),l(1,"Welcome to the BookManager!"),s(),i(2,"section",0)(3,"label",1),l(4,"Search for Books"),s(),i(5,"input",2),I("input",function(r){return a.searchTerm$.next(r.target.value)}),s(),i(6,"ul"),M(7,F,3,5,"li",null,U),s()()),n&2&&(c(2),S("aria-busy",a.isLoading()),c(5),j(a.results()))},dependencies:[R],encapsulation:2})};export{L as HomePage};
