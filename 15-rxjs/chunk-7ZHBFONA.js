import{a as P,e as N}from"./chunk-JR5AODFI.js";import{a as _}from"./chunk-ZCG745TF.js";import{$ as O,A as v,D as a,E as C,I,K as j,L as T,P as E,Q as R,R as q,S as c,T as u,Y as f,e as y,ea as F,i as D,ia as L,j as k,k as x,l as w,m as b,n as g,q as l,sa as U,u as S,v as m,y as s,z as M}from"./chunk-II4UMIAB.js";function H(n,e){let t=e?.injector??l(S),r=new y(1),p=M(()=>{let o;try{o=n()}catch(d){v(()=>r.error(d));return}v(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(m).onDestroy(()=>{p.destroy(),r.complete()}),r.asObservable()}function B(n,e){let r=!e?.manualCleanup?e?.injector?.get(m)??l(m):null,p=V(e?.equal),o;e?.requireSync?o=s({kind:0},{equal:p}):o=s({kind:1,value:e?.initialValue},{equal:p});let d,h=n.subscribe({next:i=>o.set({kind:1,value:i}),error:i=>{o.set({kind:2,error:i}),d?.()},complete:()=>{d?.()}});if(e?.requireSync&&o().kind===0)throw new g(601,!1);return d=r?.onDestroy(h.unsubscribe.bind(h)),L(()=>{let i=o();switch(i.kind){case 1:return i.value;case 2:throw i.error;case 0:throw new g(601,!1)}},{equal:e?.equal})}function V(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var A=n=>["/books","details",n],W=(n,e)=>e.isbn;function z(n,e){if(n&1&&(c(0,"li")(1,"a",3),f(2),u()()),n&2){let t=e.$implicit;a(),q("routerLink",F(3,A,t.isbn)),a(),O(" ",t.title," / ",t.isbn," ")}}var $=class n{#e=l(_);searchTerm=s("");searchField=P(this.searchTerm);isLoading=s(!1);results=B(H(this.searchTerm).pipe(D(e=>e.length>=3),k(500),x(),b(()=>this.isLoading.set(!0)),w(e=>this.#e.search(e)),b(()=>this.isLoading.set(!1))),{initialValue:[]});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=C({type:n,selectors:[["app-home-page"]],decls:9,vars:3,consts:[[3,"aria-busy"],["for","search"],["type","search","id","search",3,"field"],[3,"routerLink"]],template:function(t,r){t&1&&(c(0,"h1"),f(1,"Welcome to the BookManager!"),u(),c(2,"section",0)(3,"label",1),f(4,"Search for Books"),u(),c(5,"input",2),j(),u(),c(6,"ul"),E(7,z,3,5,"li",null,W),u()()),t&2&&(a(2),I("aria-busy",r.isLoading()),a(3),T(r.searchField),a(2),R(r.results()))},dependencies:[N,U],encapsulation:2})};export{$ as HomePage};
