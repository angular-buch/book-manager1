import{a as U,e as P}from"./chunk-VFGQSNNA.js";import{a as _}from"./chunk-T5ZBLTKL.js";import{$ as R,A as v,D as a,E as j,I as C,K as I,L as O,P as T,Q as E,R as N,S as c,T as u,Y as b,e as y,ea as q,i as D,ia as F,j as k,k as x,l as w,m as f,n as g,q as l,sa as L,u as M,v as p,y as s,z as S}from"./chunk-OTUBKWOI.js";function $(n,e){let t=e?.injector??l(M),r=new y(1),m=S(()=>{let o;try{o=n()}catch(d){v(()=>r.error(d));return}v(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(p).onDestroy(()=>{m.destroy(),r.complete()}),r.asObservable()}function H(n,e){let r=!e?.manualCleanup?e?.injector?.get(p)??l(p):null,m=V(e?.equal),o;e?.requireSync?o=s({kind:0},{equal:m}):o=s({kind:1,value:e?.initialValue},{equal:m});let d,h=n.subscribe({next:i=>o.set({kind:1,value:i}),error:i=>{o.set({kind:2,error:i}),d?.()},complete:()=>{d?.()}});if(e?.requireSync&&o().kind===0)throw new g(601,!1);return d=r?.onDestroy(h.unsubscribe.bind(h)),F(()=>{let i=o();switch(i.kind){case 1:return i.value;case 2:throw i.error;case 0:throw new g(601,!1)}},{equal:e?.equal})}function V(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var A=n=>["/books","details",n],W=(n,e)=>e.isbn;function z(n,e){if(n&1&&(c(0,"li")(1,"a",3),b(2),u()()),n&2){let t=e.$implicit;a(),N("routerLink",q(3,A,t.isbn)),a(),R(" ",t.title," / ",t.isbn," ")}}var B=class n{#e=l(_);searchTerm=s("",{});searchField=U(this.searchTerm);isLoading=s(!1,{});results=H($(this.searchTerm).pipe(D(e=>e.length>=3),k(500),x(),f(()=>this.isLoading.set(!0)),w(e=>this.#e.search(e)),f(()=>this.isLoading.set(!1))),{initialValue:[]});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["app-home-page"]],decls:9,vars:3,consts:[[3,"aria-busy"],["for","search"],["type","search","id","search",3,"field"],[3,"routerLink"]],template:function(t,r){t&1&&(c(0,"h1"),b(1,"Welcome to the BookManager!"),u(),c(2,"section",0)(3,"label",1),b(4,"Search for Books"),u(),c(5,"input",2),I(),u(),c(6,"ul"),T(7,z,3,5,"li",null,W),u()()),t&2&&(a(2),C("aria-busy",r.isLoading()),a(3),O(r.searchField),a(2),E(r.results()))},dependencies:[P,L],encapsulation:2})};export{B as HomePage};
